{% extends "master.html" %}
{% block body %}
<!DOCTYPE html>
<html lang="en">
  <head>
  	<meta charset="utf-8" />
    <title>Pulse</title> 
    <link href='http://fonts.googleapis.com/css?family=Chango|Raleway:600,300' rel='stylesheet' type='text/css'>
    <link type="text/css" rel="stylesheet" href="css/main.css">

    <script src="js/jquery-1.10.2.min.js"></script>
    <script src="js/socket.io.js"></script>
    <script src="js/animate.js"></script>
    <script src="js/underscore-min.js"></script>
  	<script src="js/d3.min.js"></script>
  	<script src="js/rickshaw.min.js"></script>
  	<script src="js/websocket.js"></script>
  	<script src="js/mathmatical.js"></script>
  	<script src="js/headtrackr.js"></script>
  	<script src="js/dsp.js"></script>
  	<script src="js/camera.js"></script>

  </head>
<body>
  <div id="movingParts">
    <div id="hidden">
        <div id="instructions"></div>
        <div id="arrow" class="pulse"></div>
        <h2 id="allowWebcam">allow webcam</h2>
    </div>
    <div id="vid" class="video">
      <div id="border"></div>

      <canvas id="canvas" class="video"></canvas>
      <canvas id="canvasOverlay" class="video"></canvas>
      
     
    </div>

    <div id="buttonBar" class="hide button">
        <button id="end_camera" name="end_camera" class="button">Pause Camera</button>
        <button id="blurToggle" name="blurToggle" class="button">Focus Video</button>
        <button id="minToggle" name="minToggle" class="button">Minimize Video</button>
    </div>
  </div>

  <div id="heartbeat"></div>

  <div id="graphs">
    <div id="rawDataGraphContainer">
      <div id="rawDataGraph" class="graph"></div>
      <p id="rawDataLabel">Change in brightness (raw video data)</p>
    </div>
    <div id="confidenceGraph" class="graph"></div>

  </div>

  <script src="js/main.js"></script>
  <script type="text/javascript">
    // ** USER INTERFACE **
    // jQuery provides functionality for animation 
    // and basic UI

    $( "#minToggle" ).click(function() {
      if ($("#minToggle").html() == "Minimize Video"){
        minimizeVideo();
      } else {
        maximizeVideo();
      }
    });

    $( "#blurToggle" ).click(function() {
      $( "#canvas" ).toggleClass("blur");
      $( "#border").toggleClass("border");

      var html = $("#blurToggle").html()

      if ($("#blurToggle").html() == "Fade Video"){
        $("#blurToggle").html("Focus Video");
      } else {
        $("#blurToggle").html("Fade Video");
      }
    });

    $("#end_camera").click(function(){
      if ($("#end_camera").html() == "Pause Camera"){
        $("#end_camera").html("Restart Camera");
      } else {
        $("#end_camera").html("Pause Camera");
      }
    });


  </script>
{% endblock %}